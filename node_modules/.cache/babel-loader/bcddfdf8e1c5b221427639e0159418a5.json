{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/yasmi/Desktop/github-repositories-per-user/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/yasmi/Desktop/github-repositories-per-user/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/yasmi/Desktop/github-repositories-per-user/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import*as Types from'../types';var githubClientId;var githubClientSecret;if(process.env.NODE_ENV!=='production'){githubClientId=process.env.REACT_APP_GITHUB_CLIENT_ID;githubClientSecret=process.env.REACT_APP_GITHUB_CLIENT_SECRET;}else{githubClientId=process.env.GITHUB_CLIENT_ID;githubClientSecret=process.env.GITHUB_CLIENT_SECRET;}var GithubState=function GithubState(props){var initialState={users:[],user:{},repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Search Users\nvar searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var url,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();url=\"https://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret);_context.next=4;return axios.get(url);case 4:res=_context.sent;dispatch({type:Types.SEARCH_USERS,payload:res.data.items});case 6:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();// Get User\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var url,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();url=\"https://api.github.com/users/\".concat(username,\"?client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret);_context2.next=4;return axios.get(url);case 4:res=_context2.sent;dispatch({type:Types.GET_USER,payload:res.data});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();// Get Repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){var url,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();url=\"https://api.github.com/users/\".concat(username,\"/repos?per_page=15&sort=created:asc&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret);_context3.next=4;return axios.get(url);case 4:res=_context3.sent;dispatch({type:Types.GET_REPOS,payload:res.data});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();// Clear Users\nvar clearUsers=function clearUsers(){return dispatch({type:Types.CLEAR_USERS});};// Set Loading\nvar setLoading=function setLoading(){return dispatch({type:Types.SET_LOADING});};return/*#__PURE__*/React.createElement(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,searchUsers:searchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos}},props.children);};export default GithubState;","map":{"version":3,"sources":["C:/Users/yasmi/Desktop/github-repositories-per-user/src/context/github/GithubState.js"],"names":["React","useReducer","axios","GithubContext","GithubReducer","Types","githubClientId","githubClientSecret","process","env","NODE_ENV","REACT_APP_GITHUB_CLIENT_ID","REACT_APP_GITHUB_CLIENT_SECRET","GITHUB_CLIENT_ID","GITHUB_CLIENT_SECRET","GithubState","props","initialState","users","user","repos","loading","state","dispatch","searchUsers","text","setLoading","url","get","res","type","SEARCH_USERS","payload","data","items","getUser","username","GET_USER","getUserRepos","GET_REPOS","clearUsers","CLEAR_USERS","SET_LOADING","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport GithubContext from './githubContext';\nimport GithubReducer from './githubReducer';\nimport * as Types from '../types';\n\nlet githubClientId;\nlet githubClientSecret;\n\nif (process.env.NODE_ENV !== 'production') {\n  githubClientId = process.env.REACT_APP_GITHUB_CLIENT_ID;\n  githubClientSecret = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n} else {\n  githubClientId = process.env.GITHUB_CLIENT_ID;\n  githubClientSecret = process.env.GITHUB_CLIENT_SECRET;\n}\n\nconst GithubState = props => {\n  const initialState = {\n    users: [],\n    user: {},\n    repos: [],\n    loading: false,\n  };\n\n  const [state, dispatch] = useReducer(GithubReducer, initialState);\n\n  // Search Users\n  const searchUsers = async text => {\n    setLoading();\n\n    const url = `https://api.github.com/search/users?q=${text}&client_id=${githubClientId}&client_secret=${githubClientSecret}`;\n\n    const res = await axios.get(url);\n\n    dispatch({\n      type: Types.SEARCH_USERS,\n      payload: res.data.items,\n    });\n  };\n\n  // Get User\n  const getUser = async username => {\n    setLoading();\n    const url = `https://api.github.com/users/${username}?client_id=${githubClientId}&client_secret=${githubClientSecret}`;\n\n    const res = await axios.get(url);\n\n    dispatch({\n      type: Types.GET_USER,\n      payload: res.data,\n    });\n  };\n\n  // Get Repos\n  const getUserRepos = async username => {\n    setLoading();\n\n    const url = `https://api.github.com/users/${username}/repos?per_page=15&sort=created:asc&client_id=${githubClientId}&client_secret=${githubClientSecret}`;\n\n    const res = await axios.get(url);\n\n    dispatch({\n      type: Types.GET_REPOS,\n      payload: res.data,\n    });\n  };\n\n  // Clear Users\n  const clearUsers = () => dispatch({ type: Types.CLEAR_USERS });\n  // Set Loading\n  const setLoading = () => dispatch({ type: Types.SET_LOADING });\n\n  return (\n    <GithubContext.Provider\n      value={{\n        users: state.users,\n        user: state.user,\n        repos: state.repos,\n        loading: state.loading,\n        searchUsers,\n        clearUsers,\n        getUser,\n        getUserRepos,\n      }}\n    >\n      {props.children}\n    </GithubContext.Provider>\n  );\n};\n\nexport default GithubState;\n"]},"metadata":{},"sourceType":"module"}